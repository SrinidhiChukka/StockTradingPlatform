import java.util.HashMap;

public class User {
    private String name;
    private double balance;
    private HashMap<String, Integer> portfolio; // symbol ‚Üí quantity

    public User(String name, double balance) {
        this.name = name;
        this.balance = balance;
        this.portfolio = new HashMap<>();
    }

    public void buyStock(Stock stock, int quantity) {
        double cost = stock.getPrice() * quantity;
        if (cost <= balance) {
            balance -= cost;
            portfolio.put(stock.getSymbol(), portfolio.getOrDefault(stock.getSymbol(), 0) + quantity);
            System.out.println("‚úÖ Bought " + quantity + " shares of " + stock.getSymbol());
        } else {
            System.out.println("‚ùå Not enough balance!");
        }
    }

    public void sellStock(Stock stock, int quantity) {
        int owned = portfolio.getOrDefault(stock.getSymbol(), 0);
        if (owned >= quantity) {
            balance += stock.getPrice() * quantity;
            portfolio.put(stock.getSymbol(), owned - quantity);
            System.out.println("‚úÖ Sold " + quantity + " shares of " + stock.getSymbol());
        } else {
            System.out.println("‚ùå You don't own enough shares!");
        }
    }

    public void showPortfolio() {
        System.out.println("\nüíº Portfolio of " + name);
        System.out.println("Balance: ‚Çπ" + balance);
        for (String symbol : portfolio.keySet()) {
            System.out.println(symbol + " ‚Üí " + portfolio.get(symbol) + " shares");
        }
    }
}
